<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Exercice 5 JQuery - Partie 3</title>
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
  <script src="jquery-3.2.1.js"></script>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <div class="exercice">
    <h1>Exercice 5 JQuery - Partie 3</h1>
    <p>Construisez une page html avec un carré et un champ de saisie de texte dans un formulaire.
Lorsque l'on appuie sur une touche de direction le carré se déplace de 10 px dans la bonne direction.
Quand le bloc atteint un bord de la page, il doit réaparaître de l'autre côté.
    </p>
  </div>

<input type="text" id="input"></input>
<div id="square"></div>


<script>
//déclaration des variables
// largeur de la fenêtre
// hauteur de la fenêtre
// largeur du carré
// hauteur de carré
var windowWidth = $(window).width();
var windowHeight = $(window).height();
var squareWidth = $("#square").width();
var squareHeight = $("#square").height();

$("#input").click(function(event){
$(document).keydown(function(e){
  switch (e.which){
    case 37:
    //Move left
    $('#square').css({'left' :'-=10px' });
    if($('#square').position().left<=0){ // quand carré completement à gauche
      $('#square').css('left', windowWidth-squareWidth);} //retour à droite
    break; // breack casse la fonction afin que ça ne lise pas la totalité et réaliser le switch
    case 39:
    //Move right
    $('#square').css({'left' :'+=10px' });
    if($('#square').position().left>=windowWidth-squareWidth){ // quand carré à droite
      $('#square').css('left', 0);} // retour à gauche
    break;
    case 38:
    //Move up
    $('#square').css({'top' :'-=10px' });
    if($('#square').position().top<=0){ // quand carré en haut
      $('#square').css('top', windowHeight-squareHeight);} // retour en bas
    break;
    case 40:
    //Move down
    $('#square').css({'top' :'+=10px' }); // quand carré en bas
    if($('#square').position().top>=window.innerHeight-squareWidth){ //retour en haut
      $('#square').css('top', 0);}
    break;
    default:
    break;
  }
})
})

</script>
</body>

<footer>
<p>Exercices réalisés à
<a href="https://lamanu.fr/le-havre">LaManu</a></p>
</footer>
</html>
